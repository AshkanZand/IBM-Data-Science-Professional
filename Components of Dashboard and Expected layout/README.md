<h2><span class="header-link octicon octicon-link"></span>Expected Layout</h2><p><img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMSkillsNetwork-DV0101EN-Coursera/images/practice_ass_layout.png" alt="layout_PA_P2" title="layout_PA_P2"></p>
<h2><span class="header-link octicon octicon-link"></span>Requirements to create the expected result</h2><ul>
<li>A dropdown <a href="https://dash.plotly.com/dash-core-components/dropdown" target="_blank" rel="noopener noreferrer">menu</a>: For choosing year</li><li>A radioitem for choosing the Region</li><li>The layout will be designed as follows:</li><li>An outer division with two inner divisions (as shown in the expected layout) </li><li>One of the inner divisions will have information about the radioitem and dropdown (which are the input) and the other one is for adding graphs(the 2 output   graphs).</li><li>Callback function to compute data, create graph and return to the layout.</li></ul>
<h3><span class="header-link octicon octicon-link"></span>To do:</h3><ol>
<li>Import required libraries and read the dataset</li><li>Create an application layout</li><li>Add title to the dashboard using HTML H1 component</li><li>Add a radioitem using dcc.RaioItems and dropdown using dcc.dropdown</li><li>Add the pie chart and bar chart core graph components.</li><li>Run the app</li></ol>
<hr>
<div class="page-footer"><button class="previous">Previous</button><button class="next">Next</button></div></div><div class="page" id="page-4" style="display: none;"><h1 class="pageTitle">Get the tool ready</h1>
<ol>
<li><p>Open a new terminal, by clicking on the menu bar and selecting <strong>Terminal</strong>-&gt;<strong>New Terminal</strong>, as in the image below.<br><img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMSkillsNetwork-DV0101EN-Coursera/images/terminal.png" alt="terminal" title="terminal"></p>
</li><li><p>Install python packages required to run the application. Copy and paste the below command to the terminal.</p>
</li></ol>
<pre class="prettyprint linenums prettyprinted" style="padding-right: 42px;"><ol class="formatted-line-numbers"><li>1</li></ol><ol class="linenums"><li class="L0"><code><span class="pln">pip3</span><span class="pun">.</span><span class="lit">8</span><span class="pln"> install setuptools</span></code></li></ol><button title="Copy" class="action-code-block copy-code-block one-line"><i class="fa fa-copy" aria-hidden="true"></i><span class="popuptext" id="md-code-block-copy-0">Copied!</span></button></pre>
<pre class="prettyprint linenums prettyprinted" style="padding-right: 42px;"><ol class="formatted-line-numbers"><li>1</li></ol><ol class="linenums"><li class="L0"><code><span class="pln">python3</span><span class="pun">.</span><span class="lit">8</span><span class="pln"> </span><span class="pun">-</span><span class="pln">m pip install packaging</span></code></li></ol><button title="Copy" class="action-code-block copy-code-block one-line"><i class="fa fa-copy" aria-hidden="true"></i><span class="popuptext" id="md-code-block-copy-1">Copied!</span></button></pre>
<pre class="prettyprint linenums prettyprinted" style="padding-right: 42px;"><ol class="formatted-line-numbers"><li>1</li></ol><ol class="linenums"><li class="L0"><code><span class="pln">python3</span><span class="pun">.</span><span class="lit">8</span><span class="pln"> </span><span class="pun">-</span><span class="pln">m pip install pandas dash</span></code></li></ol><button title="Copy" class="action-code-block copy-code-block one-line"><i class="fa fa-copy" aria-hidden="true"></i><span class="popuptext" id="md-code-block-copy-2">Copied!</span></button></pre>
<pre class="prettyprint linenums prettyprinted" style="padding-right: 42px;"><ol class="formatted-line-numbers"><li>1</li></ol><ol class="linenums"><li class="L0"><code><span class="pln">pip3 install httpx</span><span class="pun">==</span><span class="lit">0.20</span><span class="pln"> dash plotly</span></code></li></ol><button title="Copy" class="action-code-block copy-code-block one-line"><i class="fa fa-copy" aria-hidden="true"></i><span class="popuptext" id="md-code-block-copy-3">Copied!</span></button></pre>
<h2><span class="header-link octicon octicon-link"></span><img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMSkillsNetwork-DV0101EN-Coursera/images/packageinstall.PNG" alt="packageinstall" title="packageinstall"></h2><div class="page-footer"><button class="previous">Previous</button><button class="next">Next</button></div></div><div class="page" id="page-5" style="display: none;"><h1 class="pageTitle">Let's create the application</h1>
<ul>
<li>Create a new file called <code>Dash_wildfire.py</code></li></ul>
<p><img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMSkillsNetwork-DV0101EN-Coursera/images/filecreation.png" alt="filecreation" title="filecreation"></p>
<div class="page-footer"><button class="previous">Previous</button><button class="next">Next</button></div></div><div class="page" id="page-6" style="display: none;"><h1 class="pageTitle">Get the application skeleton</h1>
<p>You can use this as a base code to complete the task below.</p>
<h2><span class="header-link octicon octicon-link"></span>Structure of the skeleton file</h2><pre class="prettyprint linenums prettyprinted" style=""><ol class="formatted-line-numbers"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li><li>11</li><li>12</li><li>13</li><li>14</li><li>15</li><li>16</li><li>17</li><li>18</li><li>19</li><li>20</li><li>21</li><li>22</li><li>23</li><li>24</li><li>25</li><li>26</li><li>27</li><li>28</li><li>29</li><li>30</li><li>31</li><li>32</li><li>33</li><li>34</li><li>35</li><li>36</li><li>37</li><li>38</li><li>39</li><li>40</li><li>41</li><li>42</li><li>43</li><li>44</li><li>45</li><li>46</li><li>47</li><li>48</li><li>49</li><li>50</li><li>51</li><li>52</li><li>53</li><li>54</li><li>55</li><li>56</li><li>57</li><li>58</li><li>59</li><li>60</li><li>61</li><li>62</li><li>63</li><li>64</li><li>65</li><li>66</li><li>67</li><li>68</li><li>69</li><li>70</li><li>71</li><li>72</li><li>73</li><li>74</li><li>75</li><li>76</li><li>77</li><li>78</li><li>79</li><li>80</li><li>81</li><li>82</li><li>83</li><li>84</li><li>85</li><li>86</li><li>87</li><li>88</li><li>89</li><li>90</li><li>91</li><li>92</li></ol><ol class="linenums"><li class="L0"><code><span class="kwd">import</span><span class="pln"> pandas </span><span class="kwd">as</span><span class="pln"> pd</span></code></li><li class="L1"><code><span class="kwd">import</span><span class="pln"> dash</span></code></li><li class="L2"><code><span class="kwd">from</span><span class="pln"> dash </span><span class="kwd">import</span><span class="pln"> html</span><span class="pun">,</span><span class="pln"> dcc</span></code></li><li class="L3"><code><span class="kwd">from</span><span class="pln"> dash</span><span class="pun">.</span><span class="pln">dependencies </span><span class="kwd">import</span><span class="pln"> </span><span class="typ">Input</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Output</span><span class="pun">,</span><span class="pln"> </span><span class="typ">State</span></code></li><li class="L4"><code><span class="kwd">import</span><span class="pln"> plotly</span><span class="pun">.</span><span class="pln">graph_objects </span><span class="kwd">as</span><span class="pln"> go</span></code></li><li class="L5"><code><span class="kwd">import</span><span class="pln"> plotly</span><span class="pun">.</span><span class="pln">express </span><span class="kwd">as</span><span class="pln"> px</span></code></li><li class="L6"><code><span class="kwd">from</span><span class="pln"> dash </span><span class="kwd">import</span><span class="pln"> no_update</span></code></li><li class="L7"><code><span class="kwd">import</span><span class="pln"> datetime </span><span class="kwd">as</span><span class="pln"> dt</span></code></li><li class="L8"><code></code></li><li class="L9"><code><span class="com">#Create app</span></code></li><li class="L0"><code></code></li><li class="L1"><code><span class="pln">app </span><span class="pun">=</span><span class="pln"> dash</span><span class="pun">.</span><span class="typ">Dash</span><span class="pun">(</span><span class="pln">__name__</span><span class="pun">)</span></code></li><li class="L2"><code></code></li><li class="L3"><code><span class="com"># Clear the layout and do not display exception till callback gets executed</span></code></li><li class="L4"><code><span class="pln">app</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">suppress_callback_exceptions </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">True</span></code></li><li class="L5"><code></code></li><li class="L6"><code><span class="com"># Read the wildfire data into pandas dataframe</span></code></li><li class="L7"><code><span class="pln">df </span><span class="pun">=</span><span class="pln">  pd</span><span class="pun">.</span><span class="pln">read_csv</span><span class="pun">(</span><span class="str">'https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DV0101EN-SkillsNetwork/Data%20Files/Historical_Wildfires.csv'</span><span class="pun">)</span></code></li><li class="L8"><code></code></li><li class="L9"><code><span class="com">#Extract year and month from the date column</span></code></li><li class="L0"><code></code></li><li class="L1"><code><span class="pln">df</span><span class="pun">[</span><span class="str">'Month'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> pd</span><span class="pun">.</span><span class="pln">to_datetime</span><span class="pun">(</span><span class="pln">df</span><span class="pun">[</span><span class="str">'Date'</span><span class="pun">]).</span><span class="pln">dt</span><span class="pun">.</span><span class="pln">month_name</span><span class="pun">()</span><span class="pln"> </span><span class="com">#used for the names of the months</span></code></li><li class="L2"><code><span class="pln">df</span><span class="pun">[</span><span class="str">'Year'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> pd</span><span class="pun">.</span><span class="pln">to_datetime</span><span class="pun">(</span><span class="pln">df</span><span class="pun">[</span><span class="str">'Date'</span><span class="pun">]).</span><span class="pln">dt</span><span class="pun">.</span><span class="pln">year</span></code></li><li class="L3"><code></code></li><li class="L4"><code><span class="com">#Layout Section of Dash</span></code></li><li class="L5"><code></code></li><li class="L6"><code><span class="com">#Task 2.1 Add the Title to the Dashboard</span></code></li><li class="L7"><code><span class="pln">app</span><span class="pun">.</span><span class="pln">layout </span><span class="pun">=</span><span class="pln"> html</span><span class="pun">.</span><span class="typ">Div</span><span class="pun">(</span><span class="pln">children</span><span class="pun">=[</span><span class="pln">html</span><span class="pun">.</span><span class="pln">H1</span><span class="pun">(..................),</span></code></li><li class="L8"><code></code></li><li class="L9"><code><span class="com"># TASK 2.2: Add the radio items and a dropdown right below the first inner division</span></code></li><li class="L0"><code><span class="com">#outer division starts</span></code></li><li class="L1"><code><span class="pln">     html</span><span class="pun">.</span><span class="typ">Div</span><span class="pun">([</span></code></li><li class="L2"><code><span class="pln">                   </span><span class="com"># First inner divsion for  adding dropdown helper text for Selected Drive wheels</span></code></li><li class="L3"><code><span class="pln">                    html</span><span class="pun">.</span><span class="typ">Div</span><span class="pun">([</span></code></li><li class="L4"><code><span class="pln">                            html</span><span class="pun">.</span><span class="pln">H2</span><span class="pun">(.........),</span></code></li><li class="L5"><code></code></li><li class="L6"><code><span class="pln">                    </span><span class="com">#Radio items to select the region</span></code></li><li class="L7"><code><span class="pln">                    </span><span class="com">#dcc.RadioItems(['NSW',.....], value ='...', id='...',inline=True)]),</span></code></li><li class="L8"><code><span class="pln">                    dcc</span><span class="pun">.</span><span class="typ">RadioItems</span><span class="pun">([{</span><span class="str">"label"</span><span class="pun">:</span><span class="str">"New South Wales"</span><span class="pun">,</span><span class="str">"value"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"NSW"</span><span class="pun">},</span></code></li><li class="L9"><code><span class="pln">                                    </span><span class="pun">{..........},</span></code></li><li class="L0"><code><span class="pln">                                    </span><span class="pun">{..........},</span></code></li><li class="L1"><code><span class="pln">                                    </span><span class="pun">{..........},</span></code></li><li class="L2"><code><span class="pln">                                    </span><span class="pun">{..........},</span></code></li><li class="L3"><code><span class="pln">                                    </span><span class="pun">{..........},</span></code></li><li class="L4"><code><span class="pln">                                    </span><span class="pun">{</span><span class="str">"label"</span><span class="pun">:</span><span class="str">"..."</span><span class="pun">,</span><span class="str">"value"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">..}],</span><span class="pln"> value </span><span class="pun">=</span><span class="pln"> </span><span class="str">"..."</span><span class="pun">,</span><span class="pln"> id</span><span class="pun">=</span><span class="str">'.....,inline=True)]),</span></code></li><li class="L5"><code><span class="str">                    #Dropdown to select year</span></code></li><li class="L6"><code><span class="str">                    html.Div([</span></code></li><li class="L7"><code><span class="str">                            html.H2('</span><span class="pun">.........</span><span class="str">', style={...........}),</span></code></li><li class="L8"><code><span class="str">                        dcc.Dropdown(.....................)</span></code></li><li class="L9"><code><span class="str">                    ]),</span></code></li><li class="L0"><code><span class="str">#Second Inner division for adding 2 inner divisions for 2 output graphs</span></code></li><li class="L1"><code><span class="str">#TASK 2.3: Add two empty divisions for output inside the next inner division.</span></code></li><li class="L2"><code><span class="str">                    html.Div([</span></code></li><li class="L3"><code><span class="str">                </span></code></li><li class="L4"><code><span class="str">                        html.Div([ ], id='</span><span class="pun">........</span><span class="str">'),</span></code></li><li class="L5"><code><span class="str">                        html.Div([ ], id='</span><span class="pun">.........</span><span class="str">')</span></code></li><li class="L6"><code><span class="str">                    ], style={'</span><span class="pun">.........}),</span></code></li><li class="L7"><code></code></li><li class="L8"><code><span class="pln">    </span><span class="pun">])</span></code></li><li class="L9"><code><span class="pln">    </span><span class="com">#outer division ends</span></code></li><li class="L0"><code></code></li><li class="L1"><code><span class="pun">])</span></code></li><li class="L2"><code><span class="com">#layout ends</span></code></li><li class="L3"><code><span class="com">#TASK 2.4: Add the Ouput and input components inside the app.callback decorator.</span></code></li><li class="L4"><code><span class="com">#Place to add @app.callback Decorator</span></code></li><li class="L5"><code><span class="lit">@app</span><span class="pun">.</span><span class="pln">callback</span><span class="pun">([</span><span class="typ">Output</span><span class="pun">(</span><span class="pln">component_id</span><span class="pun">=..........,</span><span class="pln"> component_property</span><span class="pun">=..........),</span></code></li><li class="L6"><code><span class="pln">               </span><span class="typ">Output</span><span class="pun">(</span><span class="pln">component_id</span><span class="pun">=..........,</span><span class="pln"> component_property</span><span class="pun">=..........)],</span></code></li><li class="L7"><code><span class="pln">               </span><span class="pun">[</span><span class="typ">Input</span><span class="pun">(</span><span class="pln">component_id</span><span class="pun">=..........,</span><span class="pln"> component_property</span><span class="pun">=..........),</span></code></li><li class="L8"><code><span class="pln">                </span><span class="typ">Input</span><span class="pun">(</span><span class="pln">component_id</span><span class="pun">=..........,</span><span class="pln"> component_property</span><span class="pun">=..........)])</span></code></li><li class="L9"><code></code></li><li class="L0"><code><span class="pln">   </span></code></li><li class="L1"><code><span class="com">#TASK 2.5: Add the callback function.</span></code></li><li class="L2"><code><span class="com">#Place to define the callback function .</span></code></li><li class="L3"><code><span class="kwd">def</span><span class="pln"> reg_year_display</span><span class="pun">(</span><span class="pln">input_region</span><span class="pun">,</span><span class="pln">input_year</span><span class="pun">):</span></code></li><li class="L4"><code><span class="pln">    </span></code></li><li class="L5"><code><span class="pln">    </span><span class="com">#data</span></code></li><li class="L6"><code><span class="pln">   region_data </span><span class="pun">=</span><span class="pln"> df</span><span class="pun">[</span><span class="pln">df</span><span class="pun">[</span><span class="str">'Region'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> input_region</span><span class="pun">]</span></code></li><li class="L7"><code><span class="pln">   y_r_data </span><span class="pun">=</span><span class="pln"> region_data</span><span class="pun">[</span><span class="pln">region_data</span><span class="pun">[</span><span class="str">'Year'</span><span class="pun">]==</span><span class="pln">input_year</span><span class="pun">]</span></code></li><li class="L8"><code><span class="pln">    </span><span class="com">#Plot one - Monthly Average Estimated Fire Area</span></code></li><li class="L9"><code><span class="pln">   </span></code></li><li class="L0"><code><span class="pln">   est_data </span><span class="pun">=</span><span class="pln"> </span><span class="pun">.........................</span></code></li><li class="L1"><code><span class="pln">   fig1 </span><span class="pun">=</span><span class="pln"> px</span><span class="pun">.</span><span class="pln">pie</span><span class="pun">(..............,</span><span class="pln"> title</span><span class="pun">=</span><span class="str">"{} : Monthly Average Estimated Fire Area in year {}"</span><span class="pun">.</span><span class="pln">format</span><span class="pun">(</span><span class="pln">input_region</span><span class="pun">,</span><span class="pln">input_year</span><span class="pun">))</span></code></li><li class="L2"><code><span class="pln">   </span></code></li><li class="L3"><code><span class="pln">     </span><span class="com">#Plot two - Monthly Average Count of Pixels for Presumed Vegetation Fires</span></code></li><li class="L4"><code><span class="pln">   veg_data </span><span class="pun">=</span><span class="pln"> </span><span class="pun">.............................</span></code></li><li class="L5"><code><span class="pln">   fig2 </span><span class="pun">=</span><span class="pln"> px</span><span class="pun">.</span><span class="pln">bar</span><span class="pun">(...............,</span><span class="pln"> title</span><span class="pun">=</span><span class="str">'{} : Average Count of Pixels for Presumed Vegetation Fires in year {}'</span><span class="pun">.</span><span class="pln">format</span><span class="pun">(</span><span class="pln">input_region</span><span class="pun">,</span><span class="pln">input_year</span><span class="pun">))</span></code></li><li class="L6"><code><span class="pln">    </span></code></li><li class="L7"><code><span class="pln">   </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[.......,</span></code></li><li class="L8"><code><span class="pln">            </span><span class="pun">.........</span><span class="pln"> </span><span class="pun">]</span></code></li><li class="L9"><code></code></li><li class="L0"><code><span class="kwd">if</span><span class="pln"> __name__ </span><span class="pun">==</span><span class="pln"> </span><span class="str">'__main__'</span><span class="pun">:</span></code></li><li class="L1"><code><span class="pln">    app</span><span class="pun">.</span><span class="pln">run_server</span><span class="pun">()</span></code></li></ol><button title="Copy" class="action-code-block copy-code-block multiple-lines"><i class="fa fa-copy" aria-hidden="true"></i><span class="popuptext" id="md-code-block-copy-4">Copied!</span></button></pre>
<div class="page-footer"><button class="previous">Previous</button><button class="next">Next</button></div></div><div class="page" id="page-7" style="display: none;"><h1 class="pageTitle">TASK 2.1: Add title to the dashboard</h1>
<p>Update the <code>html.H1()</code> tag to hold the application title. </p>
<ul>
<li>Application title is <code>Australia Wildfire Dashboard</code></li><li>Use style parameter provided below to make the title <code>center</code> aligned, with color code <code>#503D36</code>, and font-size as <code>26</code></li></ul>
<pre class="prettyprint linenums prettyprinted" style=""><ol class="formatted-line-numbers"><li>1</li><li>2</li><li>3</li></ol><ol class="linenums"><li class="L0"><code><span class="pln">html</span><span class="pun">.</span><span class="pln">H1</span><span class="pun">(</span><span class="str">'Australia Wildfire Dashboard'</span><span class="pun">,</span><span class="pln"> </span></code></li><li class="L1"><code><span class="pln">                                style</span><span class="pun">={</span><span class="str">'textAlign'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'center'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'color'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'#503D36'</span><span class="pun">,</span></code></li><li class="L2"><code><span class="pln">                                </span><span class="str">'font-size'</span><span class="pun">:</span><span class="pln"> </span><span class="lit">26</span><span class="pun">}),</span></code></li></ol><button title="Copy" class="action-code-block copy-code-block multiple-lines"><i class="fa fa-copy" aria-hidden="true"></i><span class="popuptext" id="md-code-block-copy-5">Copied!</span></button></pre>
<p>After updating the <code>html.H1()</code> with the application title, the <code>app.layout</code> will look like:</p>
<p><img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMSkillsNetwork-DV0101EN-Coursera/images/h1.png" alt=""></p>
<p>Reference Links:<br> <a href="https://dash.plotly.com/dash-html-components/h1">H1 component</a>    </p>
<p> <a href="https://dash.plotly.com/dash-html-components">Dash HTML Components</a>  </p>
<div class="page-footer"><button class="previous">Previous</button><button class="next">Next</button></div></div><div class="page" id="page-8" style="display: none;"><h1 class="pageTitle">TASK 2.2: Add the radio items and a dropdown right below the first inner division.</h1>
<p>Radio items to choose the <code>Region</code></p>
<p>The radio items work similar to the dropdown, you need to call dcc.RadioItems and pass the list of items. Make use of inline=True property to display the radio items in a horizontal line</p>
<ul>
<li>You can extract the regions from the dataframe using <code>df.Region.unque()</code> or pass the list of all regions directly as <code>['NSW','QL','SA','TA','VI','WA','NT']</code> . </li><li>Assign radioitems <code>id</code> as <code>region</code></li><li>Label as <code>Select Region</code></li><li>value as <code>NSW</code></li></ul>
<p>For your reference below are the abrivations used in the dataset for regions<br>    NSW - New South Wales<br>     NT 	- Northern Territory<br>       QL - Queensland<br>     SA 	- South Australia<br>       TA - Tasmania<br>       VI - Victoria<br>    WA - Western Australia<br>Read more on <a href="https://dash.plotly.com/dash-core-components/radioitems">RadioItems</a></p>
<pre class="prettyprint linenums prettyprinted" style=""><ol class="formatted-line-numbers"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li></ol><ol class="linenums"><li class="L0"><code><span class="pln"> html</span><span class="pun">.</span><span class="typ">Div</span><span class="pun">([</span></code></li><li class="L1"><code><span class="pln">          html</span><span class="pun">.</span><span class="pln">H2</span><span class="pun">(</span><span class="str">'Select Region:'</span><span class="pun">,</span><span class="pln"> style</span><span class="pun">={</span><span class="str">'margin-right'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'2em'</span><span class="pun">}),</span></code></li><li class="L2"><code><span class="pln">             </span><span class="com">#Radio items to select the region</span></code></li><li class="L3"><code><span class="pln">             dcc</span><span class="pun">.</span><span class="typ">RadioItems</span><span class="pun">([</span><span class="str">'NSW'</span><span class="pun">,</span><span class="str">'QL'</span><span class="pun">,</span><span class="str">'SA'</span><span class="pun">,</span><span class="str">'TA'</span><span class="pun">,</span><span class="str">'VI'</span><span class="pun">,</span><span class="str">'WA'</span><span class="pun">],</span><span class="pln"> </span><span class="str">'NSW'</span><span class="pun">,</span><span class="pln"> id</span><span class="pun">=</span><span class="str">'region'</span><span class="pun">,</span><span class="kwd">inline</span><span class="pun">=</span><span class="kwd">True</span><span class="pun">)]),</span></code></li><li class="L4"><code><span class="pln">            </span></code></li></ol><button title="Copy" class="action-code-block copy-code-block multiple-lines"><i class="fa fa-copy" aria-hidden="true"></i><span class="popuptext" id="md-code-block-copy-6">Copied!</span></button></pre>
<ul>
<li>or you can use labels:value pair a well in raioditems as below</li></ul>
<pre class="prettyprint linenums prettyprinted" style=""><ol class="formatted-line-numbers"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li></ol><ol class="linenums"><li class="L0"><code><span class="com">#OR you can use labels:value pair a well in raioditems as below</span></code></li><li class="L1"><code><span class="pln">            </span><span class="com">#Radio items to select the region</span></code></li><li class="L2"><code><span class="pln">                    dcc</span><span class="pun">.</span><span class="typ">RadioItems</span><span class="pun">([{</span><span class="str">"label"</span><span class="pun">:</span><span class="str">"New South Wales"</span><span class="pun">,</span><span class="str">"value"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"NSW"</span><span class="pun">},</span></code></li><li class="L3"><code><span class="pln">                                    </span><span class="pun">{</span><span class="str">"label"</span><span class="pun">:</span><span class="str">"Northern Territory"</span><span class="pun">,</span><span class="str">"value"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"NT"</span><span class="pun">},</span></code></li><li class="L4"><code><span class="pln">                                    </span><span class="pun">{</span><span class="str">"label"</span><span class="pun">:</span><span class="str">"Queensland"</span><span class="pun">,</span><span class="str">"value"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"QL"</span><span class="pun">},</span></code></li><li class="L5"><code><span class="pln">                                    </span><span class="pun">{</span><span class="str">"label"</span><span class="pun">:</span><span class="str">"South Australia"</span><span class="pun">,</span><span class="str">"value"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"SA"</span><span class="pun">},</span></code></li><li class="L6"><code><span class="pln">                                    </span><span class="pun">{</span><span class="str">"label"</span><span class="pun">:</span><span class="str">"Tasmania"</span><span class="pun">,</span><span class="str">"value"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"TA"</span><span class="pun">},</span></code></li><li class="L7"><code><span class="pln">                                    </span><span class="pun">{</span><span class="str">"label"</span><span class="pun">:</span><span class="str">"Victoria"</span><span class="pun">,</span><span class="str">"value"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"VI"</span><span class="pun">},</span></code></li><li class="L8"><code><span class="pln">                                    </span><span class="pun">{</span><span class="str">"label"</span><span class="pun">:</span><span class="str">"Western Australia"</span><span class="pun">,</span><span class="str">"value"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"WA"</span><span class="pun">}],</span><span class="str">"NSW"</span><span class="pun">,</span><span class="pln"> id</span><span class="pun">=</span><span class="str">'region'</span><span class="pun">,</span><span class="kwd">inline</span><span class="pun">=</span><span class="kwd">True</span><span class="pun">)]),</span></code></li></ol><button title="Copy" class="action-code-block copy-code-block multiple-lines"><i class="fa fa-copy" aria-hidden="true"></i><span class="popuptext" id="md-code-block-copy-7">Copied!</span></button></pre>
<hr>
<p>Dropdown to choose the <code>Year</code></p>
<ul>
<li>The dropdown has an <code>id</code> as <code>year</code>.</li><li>The label as  <code>Select Year</code> </li><li>The values allowed in the dropdown are years from <code>2005 to 2020</code></li><li>The default value when the dropdown is displayed is  <code>2005</code>.</li></ul>
<pre class="prettyprint linenums prettyprinted" style=""><ol class="formatted-line-numbers"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li></ol><ol class="linenums"><li class="L0"><code><span class="pln">            html</span><span class="pun">.</span><span class="typ">Div</span><span class="pun">([</span></code></li><li class="L1"><code><span class="pln">                        html</span><span class="pun">.</span><span class="pln">H2</span><span class="pun">(</span><span class="str">'Select Year:'</span><span class="pun">,</span><span class="pln"> style</span><span class="pun">={</span><span class="str">'margin-right'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'2em'</span><span class="pun">}),</span></code></li><li class="L2"><code><span class="pln">                        dcc</span><span class="pun">.</span><span class="typ">Dropdown</span><span class="pun">(</span><span class="pln">df</span><span class="pun">.</span><span class="typ">Year</span><span class="pun">.</span><span class="pln">unique</span><span class="pun">(),</span><span class="pln"> value </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2005</span><span class="pun">,</span><span class="pln">id</span><span class="pun">=</span><span class="str">'year'</span><span class="pun">)</span></code></li><li class="L3"><code><span class="pln">                        </span><span class="com">#notice the use of unique() from pandas to fetch the values of year from the dataframe for dropdown</span></code></li><li class="L4"><code><span class="pln">                    </span><span class="pun">]),</span></code></li></ol><button title="Copy" class="action-code-block copy-code-block multiple-lines"><i class="fa fa-copy" aria-hidden="true"></i><span class="popuptext" id="md-code-block-copy-8">Copied!</span></button></pre>
<p>Reference <a href="https://dash.plotly.com/dash-core-components/dropdown" target="_blank" rel="noopener noreferrer">link</a></p>
<hr>
<div class="page-footer"><button class="previous">Previous</button><button class="next">Next</button></div></div><div class="page" id="page-9" style="display: none;"><h1 class="pageTitle">TASK 2.3: Add two empty divisions for output inside the next inner division.</h1>
<ul>
<li><p>Use 2 <code>html.Div()</code> tags . </p>
</li><li><p>Provide division ids as <code>plot1</code> and <code>plot2</code>.</p>
</li></ul>
<pre class="prettyprint linenums prettyprinted" style=""><ol class="formatted-line-numbers"><li>1</li><li>2</li></ol><ol class="linenums"><li class="L0"><code><span class="pln">html</span><span class="pun">.</span><span class="typ">Div</span><span class="pun">([</span><span class="pln"> </span><span class="pun">],</span><span class="pln"> id</span><span class="pun">=</span><span class="str">'plot1'</span><span class="pun">),</span></code></li><li class="L1"><code><span class="pln">html</span><span class="pun">.</span><span class="typ">Div</span><span class="pun">([</span><span class="pln"> </span><span class="pun">],</span><span class="pln"> id</span><span class="pun">=</span><span class="str">'plot2'</span><span class="pun">)</span></code></li></ol><button title="Copy" class="action-code-block copy-code-block multiple-lines"><i class="fa fa-copy" aria-hidden="true"></i><span class="popuptext" id="md-code-block-copy-9">Copied!</span></button></pre>
<hr>
<div class="page-footer"><button class="previous">Previous</button><button class="next">Next</button></div></div><div class="page" id="page-10" style="display: none;"><h1 class="pageTitle">TASK 2.4: Add the Ouput and input components inside the app.callback decorator.</h1>
<ul>
<li>The <code>inputs</code> and <code>outputs</code> of our application’s interface are described declaratively as the arguments of <code>@app.callback</code> decorator.</li></ul>
<p>-In Dash, the <code>inputs</code> and <code>outputs</code> of our application are simply the properties of a particular component. </p>
<ul>
<li><p>In this example, we have two inputs:-<br>  - input for Region is the <code>value</code> property of the component that has the ID <code>region</code><br>  - input for Year is the <code>value</code> property of the component that has the ID <code>year</code></p>
</li><li><p>Our layout has 2 outputs so we need to create 2 output components.</p>
</li></ul>
<p>It is a list with 2 output parameters with component id and property. Here, the component property will be <code>children</code> as we have created empty division and passing in <code>dcc.Graph</code> (figure) after computation.</p>
<p>Component ids will be <code>plot1</code> , <code>plot2</code>.</p>
<pre class="prettyprint linenums prettyprinted" style=""><ol class="formatted-line-numbers"><li>1</li><li>2</li><li>3</li><li>4</li></ol><ol class="linenums"><li class="L0"><code><span class="lit">@app</span><span class="pun">.</span><span class="pln">callback</span><span class="pun">([</span><span class="typ">Output</span><span class="pun">(</span><span class="pln">component_id</span><span class="pun">=</span><span class="str">'plot1'</span><span class="pun">,</span><span class="pln"> component_property</span><span class="pun">=</span><span class="str">'children'</span><span class="pun">),</span></code></li><li class="L1"><code><span class="pln">               </span><span class="typ">Output</span><span class="pun">(</span><span class="pln">component_id</span><span class="pun">=</span><span class="str">'plot2'</span><span class="pun">,</span><span class="pln"> component_property</span><span class="pun">=</span><span class="str">'children'</span><span class="pun">)],</span></code></li><li class="L2"><code><span class="pln">               </span><span class="pun">[</span><span class="typ">Input</span><span class="pun">(</span><span class="pln">component_id</span><span class="pun">=</span><span class="str">'region'</span><span class="pun">,</span><span class="pln"> component_property</span><span class="pun">=</span><span class="str">'value'</span><span class="pun">),</span></code></li><li class="L3"><code><span class="pln">                </span><span class="typ">Input</span><span class="pun">(</span><span class="pln">component_id</span><span class="pun">=</span><span class="str">'year'</span><span class="pun">,</span><span class="pln"> component_property</span><span class="pun">=</span><span class="str">'value'</span><span class="pun">)])</span></code></li></ol><button title="Copy" class="action-code-block copy-code-block multiple-lines"><i class="fa fa-copy" aria-hidden="true"></i><span class="popuptext" id="md-code-block-copy-10">Copied!</span></button></pre>
<hr>
<div class="page-footer"><button class="previous">Previous</button><button class="next">Next</button></div></div><div class="page" id="page-11" style="display: none;"><h1 class="pageTitle">TASK 2.5: Add the callback function.</h1>
<ul>
<li>Whenever an input property changes, the function that the callback decorator wraps will get called automatically.</li><li>In this case let us define a function <code>reg_year_display()</code> which will be wrapped by our decorator.</li><li>The function first filters our dataframe <code>df</code> by the selected value of the region from the radio items and year  from the dropdown as follows</li><li><code>region_data = df[df['Region'] == input_region]</code> </li><li><code>y_r_data = region_data[region_data['Year']==input_year]</code></li><li>For pie chart on Monthly Average Estimated Fire Area: -<ul>
<li>Next we will group by the <code>Month</code> and calculate the mean <code>Estimated_fire_area</code> of the dataframe.</li><li>Use the <code>px.pie()</code> function to plot the pie chart</li></ul>
</li><li>For bar chart on Monthly Average Count of Pixels for Presumed Vegetation Fires: -<ul>
<li>Next we will group by the <code>Month</code> and calculate the mean <code>Count</code> of the dataframe.</li><li>Use the <code>px.bar()</code> function to plot the bar chart</li></ul>
</li></ul>
<pre class="prettyprint linenums prettyprinted" style=""><ol class="formatted-line-numbers"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li><li>11</li><li>12</li><li>13</li><li>14</li><li>15</li><li>16</li><li>17</li><li>18</li></ol><ol class="linenums"><li class="L0"><code><span class="kwd">def</span><span class="pln"> reg_year_display</span><span class="pun">(</span><span class="pln">input_region</span><span class="pun">,</span><span class="pln">input_year</span><span class="pun">):</span></code></li><li class="L1"><code><span class="pln">    </span></code></li><li class="L2"><code><span class="pln">    </span><span class="com">#data</span></code></li><li class="L3"><code><span class="pln">   region_data </span><span class="pun">=</span><span class="pln"> df</span><span class="pun">[</span><span class="pln">df</span><span class="pun">[</span><span class="str">'Region'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> input_region</span><span class="pun">]</span></code></li><li class="L4"><code><span class="pln">   y_r_data </span><span class="pun">=</span><span class="pln"> region_data</span><span class="pun">[</span><span class="pln">region_data</span><span class="pun">[</span><span class="str">'Year'</span><span class="pun">]==</span><span class="pln">input_year</span><span class="pun">]</span></code></li><li class="L5"><code><span class="pln">    </span><span class="com">#Plot one - Monthly Average Estimated Fire Area</span></code></li><li class="L6"><code><span class="pln">   </span></code></li><li class="L7"><code><span class="pln">   est_data </span><span class="pun">=</span><span class="pln"> y_r_data</span><span class="pun">.</span><span class="pln">groupby</span><span class="pun">(</span><span class="str">'Month'</span><span class="pun">)[</span><span class="str">'Estimated_fire_area'</span><span class="pun">].</span><span class="pln">mean</span><span class="pun">().</span><span class="pln">reset_index</span><span class="pun">()</span></code></li><li class="L8"><code><span class="pln"> </span></code></li><li class="L9"><code><span class="pln">   fig1 </span><span class="pun">=</span><span class="pln"> px</span><span class="pun">.</span><span class="pln">pie</span><span class="pun">(</span><span class="pln">est_data</span><span class="pun">,</span><span class="pln"> values</span><span class="pun">=</span><span class="str">'Estimated_fire_area'</span><span class="pun">,</span><span class="pln"> names</span><span class="pun">=</span><span class="str">'Month'</span><span class="pun">,</span><span class="pln"> title</span><span class="pun">=</span><span class="str">"{} : Monthly Average Estimated Fire Area in year {}"</span><span class="pun">.</span><span class="pln">format</span><span class="pun">(</span><span class="pln">input_region</span><span class="pun">,</span><span class="pln">input_year</span><span class="pun">))</span></code></li><li class="L0"><code><span class="pln">   </span></code></li><li class="L1"><code><span class="pln">     </span><span class="com">#Plot two - Monthly Average Count of Pixels for Presumed Vegetation Fires</span></code></li><li class="L2"><code><span class="pln">   veg_data </span><span class="pun">=</span><span class="pln"> y_r_data</span><span class="pun">.</span><span class="pln">groupby</span><span class="pun">(</span><span class="str">'Month'</span><span class="pun">)[</span><span class="str">'Count'</span><span class="pun">].</span><span class="pln">mean</span><span class="pun">().</span><span class="pln">reset_index</span><span class="pun">()</span></code></li><li class="L3"><code></code></li><li class="L4"><code><span class="pln">   fig2 </span><span class="pun">=</span><span class="pln"> px</span><span class="pun">.</span><span class="pln">bar</span><span class="pun">(</span><span class="pln">veg_data</span><span class="pun">,</span><span class="pln"> x</span><span class="pun">=</span><span class="str">'Month'</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">=</span><span class="str">'Count'</span><span class="pun">,</span><span class="pln"> title</span><span class="pun">=</span><span class="str">'{} : Average Count of Pixels for Presumed Vegetation Fires in year {}'</span><span class="pun">.</span><span class="pln">format</span><span class="pun">(</span><span class="pln">input_region</span><span class="pun">,</span><span class="pln">input_year</span><span class="pun">))</span></code></li><li class="L5"><code><span class="pln">    </span></code></li><li class="L6"><code><span class="pln">   </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[</span><span class="pln">dcc</span><span class="pun">.</span><span class="typ">Graph</span><span class="pun">(</span><span class="pln">figure</span><span class="pun">=</span><span class="pln">fig1</span><span class="pun">),</span></code></li><li class="L7"><code><span class="pln">            dcc</span><span class="pun">.</span><span class="typ">Graph</span><span class="pun">(</span><span class="pln">figure</span><span class="pun">=</span><span class="pln">fig2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">]</span></code></li></ol><button title="Copy" class="action-code-block copy-code-block multiple-lines"><i class="fa fa-copy" aria-hidden="true"></i><span class="popuptext" id="md-code-block-copy-11">Copied!</span></button></pre>
<ul>
<li>Finally we return the 2 figure objects <code>fig1</code> and <code>fig2</code>  in <code>dcc.Graph</code> method.</li><li>Once you have finished coding save your code.</li></ul>
<div class="page-footer"><button class="previous">Previous</button><button class="next">Next</button></div></div><div class="page" id="page-12" style="display: none;"><h1 class="pageTitle">Run the Application</h1>
<ul>
<li>Next Run the python file using the command</li></ul>
<pre class="prettyprint linenums prettyprinted" style="padding-right: 42px;"><ol class="formatted-line-numbers"><li>1</li></ol><ol class="linenums"><li class="L0"><code><span class="pln">python3</span><span class="pun">.</span><span class="lit">8</span><span class="pln"> </span><span class="typ">Dash_wildfire</span><span class="pun">.</span><span class="pln">py</span></code></li></ol><button title="Copy" class="action-code-block copy-code-block one-line"><i class="fa fa-copy" aria-hidden="true"></i><span class="popuptext" id="md-code-block-copy-12">Copied!</span></button></pre>
<ul>
<li>Observe the port number shown in the terminal.</li></ul>
<p><img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMSkillsNetwork-DV0101EN-Coursera/images/part2_launch.png" alt="port" title="port"></p>
<ul>
<li>Click on the <code>Launch Application</code> option from the menu bar.Provide the port number and click <code>OK</code></li></ul>
<p><img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMSkillsNetwork-DV0101EN-Coursera/images/launch1.png" alt="launch" title="launch"></p>
<p>Refer to the complete code <code>Dash_wildfire.py</code> here </p>
<pre class="prettyprint linenums prettyprinted" style=""><ol class="formatted-line-numbers"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li><li>11</li><li>12</li><li>13</li><li>14</li><li>15</li><li>16</li><li>17</li><li>18</li><li>19</li><li>20</li><li>21</li><li>22</li><li>23</li><li>24</li><li>25</li><li>26</li><li>27</li><li>28</li><li>29</li><li>30</li><li>31</li><li>32</li><li>33</li><li>34</li><li>35</li><li>36</li><li>37</li><li>38</li><li>39</li><li>40</li><li>41</li><li>42</li><li>43</li><li>44</li><li>45</li><li>46</li><li>47</li><li>48</li><li>49</li><li>50</li><li>51</li><li>52</li><li>53</li><li>54</li><li>55</li><li>56</li><li>57</li><li>58</li><li>59</li><li>60</li><li>61</li><li>62</li><li>63</li><li>64</li><li>65</li><li>66</li><li>67</li><li>68</li><li>69</li><li>70</li><li>71</li><li>72</li><li>73</li><li>74</li><li>75</li><li>76</li><li>77</li><li>78</li><li>79</li></ol><ol class="linenums"><li class="L0"><code><span class="kwd">import</span><span class="pln"> pandas </span><span class="kwd">as</span><span class="pln"> pd</span></code></li><li class="L1"><code><span class="kwd">import</span><span class="pln"> dash</span></code></li><li class="L2"><code><span class="kwd">from</span><span class="pln"> dash </span><span class="kwd">import</span><span class="pln"> html</span><span class="pun">,</span><span class="pln"> dcc</span></code></li><li class="L3"><code><span class="kwd">from</span><span class="pln"> dash</span><span class="pun">.</span><span class="pln">dependencies </span><span class="kwd">import</span><span class="pln"> </span><span class="typ">Input</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Output</span><span class="pun">,</span><span class="pln"> </span><span class="typ">State</span></code></li><li class="L4"><code><span class="kwd">import</span><span class="pln"> plotly</span><span class="pun">.</span><span class="pln">graph_objects </span><span class="kwd">as</span><span class="pln"> go</span></code></li><li class="L5"><code><span class="kwd">import</span><span class="pln"> plotly</span><span class="pun">.</span><span class="pln">express </span><span class="kwd">as</span><span class="pln"> px</span></code></li><li class="L6"><code><span class="kwd">from</span><span class="pln"> dash </span><span class="kwd">import</span><span class="pln"> no_update</span></code></li><li class="L7"><code><span class="kwd">import</span><span class="pln"> datetime </span><span class="kwd">as</span><span class="pln"> dt</span></code></li><li class="L8"><code><span class="com">#Create app</span></code></li><li class="L9"><code><span class="pln">app </span><span class="pun">=</span><span class="pln"> dash</span><span class="pun">.</span><span class="typ">Dash</span><span class="pun">(</span><span class="pln">__name__</span><span class="pun">)</span></code></li><li class="L0"><code><span class="com">#Clear the layout and do not display exception till callback gets executed</span></code></li><li class="L1"><code><span class="pln">app</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">suppress_callback_exceptions </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">True</span></code></li><li class="L2"><code><span class="com"># Read the wildfire data into pandas dataframe</span></code></li><li class="L3"><code><span class="pln">df </span><span class="pun">=</span><span class="pln">  pd</span><span class="pun">.</span><span class="pln">read_csv</span><span class="pun">(</span><span class="str">'https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DV0101EN-SkillsNetwork/Data%20Files/Historical_Wildfires.csv'</span><span class="pun">)</span></code></li><li class="L4"><code><span class="com">#Extract year and month from the date column</span></code></li><li class="L5"><code><span class="pln">df</span><span class="pun">[</span><span class="str">'Month'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> pd</span><span class="pun">.</span><span class="pln">to_datetime</span><span class="pun">(</span><span class="pln">df</span><span class="pun">[</span><span class="str">'Date'</span><span class="pun">]).</span><span class="pln">dt</span><span class="pun">.</span><span class="pln">month_name</span><span class="pun">()</span><span class="pln"> </span><span class="com">#used for the names of the months</span></code></li><li class="L6"><code><span class="pln">df</span><span class="pun">[</span><span class="str">'Year'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> pd</span><span class="pun">.</span><span class="pln">to_datetime</span><span class="pun">(</span><span class="pln">df</span><span class="pun">[</span><span class="str">'Date'</span><span class="pun">]).</span><span class="pln">dt</span><span class="pun">.</span><span class="pln">year</span></code></li><li class="L7"><code><span class="com">#Layout Section of Dash</span></code></li><li class="L8"><code><span class="com">#Task 1 Add the Title to the Dashboard</span></code></li><li class="L9"><code><span class="pln">app</span><span class="pun">.</span><span class="pln">layout </span><span class="pun">=</span><span class="pln"> html</span><span class="pun">.</span><span class="typ">Div</span><span class="pun">(</span><span class="pln">children</span><span class="pun">=[</span><span class="pln">html</span><span class="pun">.</span><span class="pln">H1</span><span class="pun">(</span><span class="str">'Australia Wildfire Dashboard'</span><span class="pun">,</span><span class="pln"> </span></code></li><li class="L0"><code><span class="pln">                                style</span><span class="pun">={</span><span class="str">'textAlign'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'center'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'color'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'#503D36'</span><span class="pun">,</span></code></li><li class="L1"><code><span class="pln">                                </span><span class="str">'font-size'</span><span class="pun">:</span><span class="pln"> </span><span class="lit">26</span><span class="pun">}),</span></code></li><li class="L2"><code><span class="com"># TASK 2: Add the radio items and a dropdown right below the first inner division</span></code></li><li class="L3"><code><span class="pln">     </span><span class="com">#outer division starts</span></code></li><li class="L4"><code><span class="pln">     html</span><span class="pun">.</span><span class="typ">Div</span><span class="pun">([</span></code></li><li class="L5"><code><span class="pln">                   </span><span class="com"># First inner divsion for  adding dropdown helper text for Selected Drive wheels</span></code></li><li class="L6"><code><span class="pln">                    html</span><span class="pun">.</span><span class="typ">Div</span><span class="pun">([</span></code></li><li class="L7"><code><span class="pln">                            html</span><span class="pun">.</span><span class="pln">H2</span><span class="pun">(</span><span class="str">'Select Region:'</span><span class="pun">,</span><span class="pln"> style</span><span class="pun">={</span><span class="str">'margin-right'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'2em'</span><span class="pun">}),</span></code></li><li class="L8"><code></code></li><li class="L9"><code><span class="pln">                    </span><span class="com">#Radio items to select the region</span></code></li><li class="L0"><code><span class="pln">                    </span><span class="com">#dcc.RadioItems(['NSW','QL','SA','TA','VI','WA'], 'NSW', id='region',inline=True)]),</span></code></li><li class="L1"><code><span class="pln">                    dcc</span><span class="pun">.</span><span class="typ">RadioItems</span><span class="pun">([{</span><span class="str">"label"</span><span class="pun">:</span><span class="str">"New South Wales"</span><span class="pun">,</span><span class="str">"value"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"NSW"</span><span class="pun">},</span></code></li><li class="L2"><code><span class="pln">                                    </span><span class="pun">{</span><span class="str">"label"</span><span class="pun">:</span><span class="str">"Northern Territory"</span><span class="pun">,</span><span class="str">"value"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"NT"</span><span class="pun">},</span></code></li><li class="L3"><code><span class="pln">                                    </span><span class="pun">{</span><span class="str">"label"</span><span class="pun">:</span><span class="str">"Queensland"</span><span class="pun">,</span><span class="str">"value"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"QL"</span><span class="pun">},</span></code></li><li class="L4"><code><span class="pln">                                    </span><span class="pun">{</span><span class="str">"label"</span><span class="pun">:</span><span class="str">"South Australia"</span><span class="pun">,</span><span class="str">"value"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"SA"</span><span class="pun">},</span></code></li><li class="L5"><code><span class="pln">                                    </span><span class="pun">{</span><span class="str">"label"</span><span class="pun">:</span><span class="str">"Tasmania"</span><span class="pun">,</span><span class="str">"value"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"TA"</span><span class="pun">},</span></code></li><li class="L6"><code><span class="pln">                                    </span><span class="pun">{</span><span class="str">"label"</span><span class="pun">:</span><span class="str">"Victoria"</span><span class="pun">,</span><span class="str">"value"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"VI"</span><span class="pun">},</span></code></li><li class="L7"><code><span class="pln">                                    </span><span class="pun">{</span><span class="str">"label"</span><span class="pun">:</span><span class="str">"Western Australia"</span><span class="pun">,</span><span class="str">"value"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"WA"</span><span class="pun">}],</span><span class="str">"NSW"</span><span class="pun">,</span><span class="pln"> id</span><span class="pun">=</span><span class="str">'region'</span><span class="pun">,</span><span class="kwd">inline</span><span class="pun">=</span><span class="kwd">True</span><span class="pun">)]),</span></code></li><li class="L8"><code><span class="pln">                    </span><span class="com">#Dropdown to select year</span></code></li><li class="L9"><code><span class="pln">                    html</span><span class="pun">.</span><span class="typ">Div</span><span class="pun">([</span></code></li><li class="L0"><code><span class="pln">                            html</span><span class="pun">.</span><span class="pln">H2</span><span class="pun">(</span><span class="str">'Select Year:'</span><span class="pun">,</span><span class="pln"> style</span><span class="pun">={</span><span class="str">'margin-right'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'2em'</span><span class="pun">}),</span></code></li><li class="L1"><code><span class="pln">                        dcc</span><span class="pun">.</span><span class="typ">Dropdown</span><span class="pun">(</span><span class="pln">df</span><span class="pun">.</span><span class="typ">Year</span><span class="pun">.</span><span class="pln">unique</span><span class="pun">(),</span><span class="pln"> value </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2005</span><span class="pun">,</span><span class="pln">id</span><span class="pun">=</span><span class="str">'year'</span><span class="pun">)</span></code></li><li class="L2"><code><span class="pln">                    </span><span class="pun">]),</span></code></li><li class="L3"><code><span class="com">#TASK 3: Add two empty divisions for output inside the next inner division. </span></code></li><li class="L4"><code><span class="pln">         </span><span class="com">#Second Inner division for adding 2 inner divisions for 2 output graphs</span></code></li><li class="L5"><code><span class="pln">                    html</span><span class="pun">.</span><span class="typ">Div</span><span class="pun">([</span></code></li><li class="L6"><code><span class="pln">                </span></code></li><li class="L7"><code><span class="pln">                        html</span><span class="pun">.</span><span class="typ">Div</span><span class="pun">([</span><span class="pln"> </span><span class="pun">],</span><span class="pln"> id</span><span class="pun">=</span><span class="str">'plot1'</span><span class="pun">),</span></code></li><li class="L8"><code><span class="pln">                        html</span><span class="pun">.</span><span class="typ">Div</span><span class="pun">([</span><span class="pln"> </span><span class="pun">],</span><span class="pln"> id</span><span class="pun">=</span><span class="str">'plot2'</span><span class="pun">)</span></code></li><li class="L9"><code><span class="pln">                    </span><span class="pun">],</span><span class="pln"> style</span><span class="pun">={</span><span class="str">'display'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'flex'</span><span class="pun">}),</span></code></li><li class="L0"><code></code></li><li class="L1"><code><span class="pln">    </span><span class="pun">])</span></code></li><li class="L2"><code><span class="pln">    </span><span class="com">#outer division ends</span></code></li><li class="L3"><code></code></li><li class="L4"><code><span class="pun">])</span></code></li><li class="L5"><code><span class="com">#layout ends</span></code></li><li class="L6"><code><span class="com">#TASK 4: Add the Ouput and input components inside the app.callback decorator.</span></code></li><li class="L7"><code><span class="com">#Place to add @app.callback Decorator</span></code></li><li class="L8"><code><span class="lit">@app</span><span class="pun">.</span><span class="pln">callback</span><span class="pun">([</span><span class="typ">Output</span><span class="pun">(</span><span class="pln">component_id</span><span class="pun">=</span><span class="str">'plot1'</span><span class="pun">,</span><span class="pln"> component_property</span><span class="pun">=</span><span class="str">'children'</span><span class="pun">),</span></code></li><li class="L9"><code><span class="pln">               </span><span class="typ">Output</span><span class="pun">(</span><span class="pln">component_id</span><span class="pun">=</span><span class="str">'plot2'</span><span class="pun">,</span><span class="pln"> component_property</span><span class="pun">=</span><span class="str">'children'</span><span class="pun">)],</span></code></li><li class="L0"><code><span class="pln">               </span><span class="pun">[</span><span class="typ">Input</span><span class="pun">(</span><span class="pln">component_id</span><span class="pun">=</span><span class="str">'region'</span><span class="pun">,</span><span class="pln"> component_property</span><span class="pun">=</span><span class="str">'value'</span><span class="pun">),</span></code></li><li class="L1"><code><span class="pln">                </span><span class="typ">Input</span><span class="pun">(</span><span class="pln">component_id</span><span class="pun">=</span><span class="str">'year'</span><span class="pun">,</span><span class="pln"> component_property</span><span class="pun">=</span><span class="str">'value'</span><span class="pun">)])</span></code></li><li class="L2"><code><span class="com">#TASK 5: Add the callback function.   </span></code></li><li class="L3"><code><span class="com">#Place to define the callback function .</span></code></li><li class="L4"><code><span class="kwd">def</span><span class="pln"> reg_year_display</span><span class="pun">(</span><span class="pln">input_region</span><span class="pun">,</span><span class="pln">input_year</span><span class="pun">):</span><span class="pln">  </span></code></li><li class="L5"><code><span class="pln">    </span><span class="com">#data</span></code></li><li class="L6"><code><span class="pln">   region_data </span><span class="pun">=</span><span class="pln"> df</span><span class="pun">[</span><span class="pln">df</span><span class="pun">[</span><span class="str">'Region'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> input_region</span><span class="pun">]</span></code></li><li class="L7"><code><span class="pln">   y_r_data </span><span class="pun">=</span><span class="pln"> region_data</span><span class="pun">[</span><span class="pln">region_data</span><span class="pun">[</span><span class="str">'Year'</span><span class="pun">]==</span><span class="pln">input_year</span><span class="pun">]</span></code></li><li class="L8"><code><span class="pln">    </span><span class="com">#Plot one - Monthly Average Estimated Fire Area   </span></code></li><li class="L9"><code><span class="pln">   est_data </span><span class="pun">=</span><span class="pln"> y_r_data</span><span class="pun">.</span><span class="pln">groupby</span><span class="pun">(</span><span class="str">'Month'</span><span class="pun">)[</span><span class="str">'Estimated_fire_area'</span><span class="pun">].</span><span class="pln">mean</span><span class="pun">().</span><span class="pln">reset_index</span><span class="pun">()</span></code></li><li class="L0"><code><span class="pln">   fig1 </span><span class="pun">=</span><span class="pln"> px</span><span class="pun">.</span><span class="pln">pie</span><span class="pun">(</span><span class="pln">est_data</span><span class="pun">,</span><span class="pln"> values</span><span class="pun">=</span><span class="str">'Estimated_fire_area'</span><span class="pun">,</span><span class="pln"> names</span><span class="pun">=</span><span class="str">'Month'</span><span class="pun">,</span><span class="pln"> title</span><span class="pun">=</span><span class="str">"{} : Monthly Average Estimated Fire Area in year {}"</span><span class="pun">.</span><span class="pln">format</span><span class="pun">(</span><span class="pln">input_region</span><span class="pun">,</span><span class="pln">input_year</span><span class="pun">))</span><span class="pln">   </span></code></li><li class="L1"><code><span class="pln">     </span><span class="com">#Plot two - Monthly Average Count of Pixels for Presumed Vegetation Fires</span></code></li><li class="L2"><code><span class="pln">   veg_data </span><span class="pun">=</span><span class="pln"> y_r_data</span><span class="pun">.</span><span class="pln">groupby</span><span class="pun">(</span><span class="str">'Month'</span><span class="pun">)[</span><span class="str">'Count'</span><span class="pun">].</span><span class="pln">mean</span><span class="pun">().</span><span class="pln">reset_index</span><span class="pun">()</span></code></li><li class="L3"><code><span class="pln">   fig2 </span><span class="pun">=</span><span class="pln"> px</span><span class="pun">.</span><span class="pln">bar</span><span class="pun">(</span><span class="pln">veg_data</span><span class="pun">,</span><span class="pln"> x</span><span class="pun">=</span><span class="str">'Month'</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">=</span><span class="str">'Count'</span><span class="pun">,</span><span class="pln"> title</span><span class="pun">=</span><span class="str">'{} : Average Count of Pixels for Presumed Vegetation Fires in year {}'</span><span class="pun">.</span><span class="pln">format</span><span class="pun">(</span><span class="pln">input_region</span><span class="pun">,</span><span class="pln">input_year</span><span class="pun">))</span><span class="pln">    </span></code></li><li class="L4"><code><span class="pln">   </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[</span><span class="pln">dcc</span><span class="pun">.</span><span class="typ">Graph</span><span class="pun">(</span><span class="pln">figure</span><span class="pun">=</span><span class="pln">fig1</span><span class="pun">),</span></code></li><li class="L5"><code><span class="pln">            dcc</span><span class="pun">.</span><span class="typ">Graph</span><span class="pun">(</span><span class="pln">figure</span><span class="pun">=</span><span class="pln">fig2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">]</span></code></li><li class="L6"><code><span class="kwd">if</span><span class="pln"> __name__ </span><span class="pun">==</span><span class="pln"> </span><span class="str">'__main__'</span><span class="pun">:</span></code></li><li class="L7"><code><span class="pln">    app</span><span class="pun">.</span><span class="pln">run_server</span><span class="pun">()</span></code></li><li class="L8"><code><span class="pln">    </span></code></li></ol><button title="Copy" class="action-code-block copy-code-block multiple-lines"><i class="fa fa-copy" aria-hidden="true"></i><span class="popuptext" id="md-code-block-copy-13">Copied!</span></button></pre>
<h4><span class="header-link octicon octicon-link"></span>Congratulations, you have successfully created dash application!</h4><h2><span class="header-link octicon octicon-link"></span>Author</h2><p><a href="https://www.linkedin.com/in/p-b28802262/" target="_blank" rel="noopener noreferrer">Dr. Pooja</a></p>


<h2><span class="header-link octicon octicon-link"></span></h2><h3> © IBM Corporation. All rights reserved. </h3><h3></h3><div class="page-footer"><button class="previous">Previous</button></div></div></div></div>
